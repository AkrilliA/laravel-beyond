deptrac:
  paths:
    - ./modules
  exclude_files:
    - '#*Test\.php#'
  layers:
    -
      name: Action
      collectors:
        -
          type: className
          value: .*\\Domain\\Actions\\.*
    -
      name: Builder
      collectors:
        -
          type: className
          value: .*\\Domain\\Builders\\.*
    -
      name: Collection
      collectors:
        -
          type: className
          value: .*\\Domain\\Collections\\.*
    -
      name: DataObject
      collectors:
        -
          type: className
          value: .*\\Domain\\DataObjects\\.*
    -
      name: Controller
      collectors:
        -
          type: className
          value: .*\\App\\Controllers\\.*
    -
      name: Job
      collectors:
        -
          type: className
          value: .*\\App\\Jobs\\.*
    -
      name: Model
      collectors:
        -
          type: className
          value: .*\\Domain\\Models\\.*
    -
      name: Process
      collectors:
        -
          type: className
          value: .*\\App\\Processes\\.*
    -
      name: Query
      collectors:
        -
          type: className
          value: .*\\App\\Queries\\.*
  ruleset:
    Controller:
      - Job
      - Process
      - Query
    Process:
      - Action
      - DataObject
    Action:
      - DataObject
      - Model
    DataObject: ~
    Model:
      - Builder
      - Collection
    Builder: ~
    Query:
      - Model